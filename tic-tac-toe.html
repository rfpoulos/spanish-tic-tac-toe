<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <style>
        .cuadrado {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100px;
            width: 100px;
            border: 1px solid black; 
        }

        .fila {
            display: flex;
        }
    </style>
</head>
    <body>
        <div class="fila">
            <div id="cuadrado1"
                class="cuadrado"
            ></div>
            <div id="cuadrado2" 
                class="cuadrado"
            ></div>
            <div id="cuadrado3" 
                class="cuadrado"
            ></div>
        </div>
        <div class="fila">
            <div id="cuadrado4" 
                class="cuadrado"
            ></div>
            <div id="cuadrado5" 
                class="cuadrado"
            ></div>
            <div id="cuadrado6" 
                class="cuadrado"
            ></div>
        </div>
        <div class="fila">
            <div id="cuadrado7" 
                class="cuadrado"
            ></div>
            <div id="cuadrado8" 
                class="cuadrado"
            ></div>
            <div id="cuadrado9" 
                class="cuadrado"
            ></div>
        </div>
        <script>
            const winConditions = [
                [0, 1, 2],
                [3, 4, 5],
                [6, 7, 8],
                [0, 3, 6],
                [1, 4, 7],
                [2, 5, 8],
                [0, 4, 8],
                [2, 4, 6],
            ];

            let currentPlayer = "X";
            let winner;
            
            const squares = document.querySelectorAll(".cuadrado");
            squares.forEach((square, index) => {
                square.addEventListener("click", () => {
                    if (winner) {
                        return;
                    }
                    clicButon(square, index);
                }, { once: true });
            });

            function clicButon(element, index) {
                element.textContent = currentPlayer;
                if (hasWinner()) {
                    winner = currentPlayer;
                    return;
                }
                currentPlayer = currentPlayer === "X" ? "O" : "X";
            }

            function hasWinner() {
                const squareValues = Array.from(squares).map((square) => {
                    return square.textContent;
                });

                const hasWinner = winConditions.some(winCondition => {
                    const winIndex0 = squareValues[winCondition[0]];
                    const winIndex1 = squareValues[winCondition[1]];
                    const winIndex2 = squareValues[winCondition[2]];
                    return winIndex0 && winIndex0 === winIndex1 && winIndex0 === winIndex2;
                });

                return hasWinner;
            }

        </script>
    </body>
</html>